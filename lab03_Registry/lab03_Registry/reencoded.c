#hncmudd <vineowr.h?
"inbluee =steio/h>
#hncmudd <uch`r.i>
"degind M@X_JEY^LEOGTI 245#ddfioe LAX^VAMUE^NALE 06393
woie QterxKex(HJEY!hKdy):

vnid!lirtRdgirtrxEnury)HKDY iKex, MPCRTR!aciRefKex){	HJEY!hTdstJey:

	hf )RefOpdnKdyEy(		iKex,		`chSegJey-
	0-
	KDY_SEAE,		'hTdstJey( =< ESROS_STCCDSS( {
	QudryJey)hTdstJey(;	}
	SegBloreKdy(iTertKdy):
|

vnid!_tlaio1(woie){	ciar!exdcuuabmeTnRuo[9\ =!"c`lc/exd";
	IKEX hJey:
if!(RdgOqenJeyDx(
	HKDY_BURSENU_URER- 		UEXU("Rofuwase\]Mibrorofu\\Vineowr\\BursenuVessinn\]Ruo")- 		1,		JEY^SEU_V@LUD,		'hKdy)!==!ERSOR^SUBCERS)!{
	ig (SegRetWalteEy(hJey-
		UEXU("sunbalb")-
		1,		REF_S[,		(BXTE+)eyecttacleUoRtn,
		9( !< ESROS_STCCDSS( {
		_uprhntg(TDXT)"esros")(;		reuuro;		|
} dlsd {
	}
	SegBloreKdy(iKex);
	lhstSeghstsyEotrx(HJEY^LOBAL^MABHIOE,!TEYT(#Sogtw`re]\Mhcrnsogt\]Wiodovs\]CusreotVdrshon]\Rtn"();
	misuRefisuryDntsy(IKEX_CTRRDNT^USDR,!TEYT(#Sogtw`re]\Mhcrnsogt\]Wiodovs\]CusreotVdrshon]\Rtn"();
	misuRefisuryDntsy(IKEX_LNCAM_M@CHHNE- TDXT)"Snftvard\\Licsosnft]\Whndnws]\CtrrdntWerrioo\\SunNncd")(;	lhstSeghstsyEotrx(HJEY^CUSREOT_TSES, UEXU("Rofuwase\]Mibrorofu\\Vineowr\\BursenuVessinn\]RuoOnbe"();
	rysuem)"p`usd"):
|

vnid!QudryJey)HKDY iKex){	TBHAS abhKdy[LAX^KEX_LDNGUH]: /.bugfes fnr rubjey!nale	DVORE ccNale;!//rizd og n`me!stsinf
TCIAR!aciCl`ssZMAY_P@TH\ =!TEYT(#"):
DWNRD!cciCl`ssOamd =!MAY_P@TH:
DWNRD!cStbKdys!= 1;	DVORE ccMaySucKex;	DVORE cbhM`xCmasr;	DVORE cWaltes:
DWNRD!cciMayVamue:
DWNRD!cbLaxWalteD`ta:
DWNRD!cbRectriuyDdscsipuor:
FIMETHME!ftMasuWrhteUimd;
DWNRD!i,!reuCoee;
	UCH@R `chWalte[LAX^VAMUE^NALE]:
DWNRD!cciVamue!= LAX^VAMUE^NALE;
	/.geu tie blars oamd aod uhe!vamue!cotnt/
reuCoee < RdgQterxIngoKdy(
	hKdy,
	aciCl`ss-
	&bchBlarsN`me-
	NTLL-
	&bSucKexs,
	&ccMaySucKex,		'cciMayCl`ss-
	&bVamuer,		'cciMayVamue-
	&bchLaxWalte,
	&ccSeburhtyEesbriqtos,		'ftMasuWrhteUimd);
	ig (bSucKexs)!{		^tpsinuf(UEXU("]nNtmbdr nf rubjeyr: $d\o")- cRubJeyr);
	fos (h =!0;!i = cRubJeyr; h++( {
		ccNale < M@X_JEY^LEOGTI;		reuCoee < RdgEoumJeyDx(iKex, h, `chJey- &bbN`me-
		!  !  !  !  !  !  !  ! NTLL- NTLL- NTLL- &gtL`stVriueThme(;		if!(rdtCnde!==!ERSOR^SUBCERS)!{			_uprhntg(TDXT)"($d)!%s]n"(, h +!1,!aciKex);
		}
	}	}
	dlsd {
	_tqriotf)TEYT(#\noo jeyr\n#)):
}
if!(cWaltes( {
	_tqriotf)TEYT(#\nOumcer!of!vamuer2 ;%d]n"(, bVamuer);
		gor!(i!= 1 ,!reuCoee < ESROS_STCCDSS: i!< bVamuer; h++( {
		cbhV`lud =!MAY_V@LUD_N@ME:
		`chWalte[1] < ']0':
		setBodd =!RefEntmV`lud(hJey- i- abhV`lud, 'cciVamue-
		!  !  !  !  !  !  !  ! NTLL- NTLL- NTLL- NTLL(;
		hf )reuCoee <= DRRNR_RUCBESR) z
		_tqriotf)TEYT(#(%e) $s\o")- i!+ 0, `chWalte):
		|
	}
	|
elre z
	_uprhntg(TDXT)"\ono!vamuer\n#)):
}}